{% extends 'layouts/page.njk' %}

{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      
      {% if error %}
        {{ govukErrorSummary({
          titleText: "There is a problem",
          errorList: [
            {
              text: error.text,
              href: "#notify-by-email"
            }
          ]
        }) }}
      {% endif %}

      <form method="post">
        <div class="govuk-form-group{% if error %} govuk-form-group--error{% endif %}">
          <h1 class="govuk-label-wrapper">
            <label class="govuk-label govuk-label--xl" for="notify-by-email">
              {{ heading }}
            </label>
          </h1>
          
          <div id="notify-by-email-hint" class="govuk-hint">
            {{ description }}
          </div>
          
          {% if error %}
            <p id="notify-by-email-error" class="govuk-error-message">
              <span class="govuk-visually-hidden">Error:</span> {{ error.text }}
            </p>
          {% endif %}
          
          <p class="govuk-body">Enter your email address</p>
          
          <input class="govuk-input govuk-input--width-20{% if error %} govuk-input--error{% endif %}" 
                 id="notify-by-email" 
                 name="notifyByEmail" 
                 type="email" 
                 autocomplete="email"
                 spellcheck="false"
                 aria-describedby="notify-by-email-hint{% if error %} notify-by-email-error{% endif %}"
                 value="{{ notifyByEmail or '' }}">
        </div>

        {{ govukButton({
          text: "Continue",
          type: "submit"
        }) }}
      </form>
    </div>
  </div>
{% endblock %}
